<!doctype html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1"> 
        <title>Home Weather Page</title>
        <meta name="author" content="Teresa Moser">
        <meta name="Home Weather page" content="Home Weather Information"> 
        <!-- external style references in the proper cascading order -->    
        <link href="https://fonts.googleapis.com/css?family=Josefin+Sans" rel="stylesheet"> 
        <!-- Google API font reference -->
        <link href="stylesfinal/normalizefinal.css" rel="stylesheet">
        <!-- normalize useragent/browser defaults -->
        <link href="stylesfinal/mainfinal.css" rel="stylesheet">    
        <!-- default styles - small/phone views -->
        <link href="stylesfinal/mediumfinal.css" rel="stylesheet">  
        <!-- medium/tablet views -->
        <link href="stylesfinal/largefinal.css" rel="stylesheet">   
        <!-- large/wide/desktop views -->    
    </head> 
    <body>
        <div class="content">
        <header>
            <img src="imagesfinal/sunlogo.png" alt="The site logo">
        </header>
        <!-- site navigation use placeholder references -->
        <nav class="clearfix">
            <button onclick="toggleNavMenu()">&#9776;</button>
                <ul id="navigation" class="hide">
                    <li class="active"><a href="homefinal.html">Home</a></li>
    	            <li class="active"><a href="franklinfinal.html">Franklin</a></li>
    	            <li class="active"><a href="greenvillefinal.html">Greenville</a></li>
                    <li class="active"><a href="springfieldfinal.html">Springfield</a></li>
    	            <li class="active"><a href="stormcenterfinal.html">Storm Center</a></li>
                    <li class="active"><a href="galleryfinal.html">Gallery</a></li>
                </ul>		
        </nav>
    <main>
      <article>
          <h2>Weather Story</h2>
           <p class="home-article">
               Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
          </p>
            <img src="imagesfinal/snowyroads.jpeg" id="snowyroads" alt="snowy road">
 
        </article>
        <section id="towninfo">
            <div>
                <img src="imagesfinal/icestorm.jpeg" alt="Ice Storm">
                <span id="Franklin"></span>  
            </div>
            <div>
                <img src="imagesfinal/flashflood.jpeg" alt="Flash Flood">
                <span id="Greenville"></span>  
            </div>
            <div>
                <img src="imagesfinal/rainstorm.jpeg" alt="Heavy Rainstorm">
                <span id="Springfield"></span>
            </div>
            
        </section>
        <script>
   
            var requestURL = 'https://byui-cit230.github.io/weather/data/towndata.json'
            var request = new XMLHttpRequest();           

            request.open('GET', requestURL);
            request.responseType = 'json';
            request.send();
            
            request.onload = function () {
            var towndata = request.response;
            showData(towndata);
            }
            
            function showData(jsonObj) {
            var towns = jsonObj['towns'];
                
            for (var i = 0; i < towns.length; i++) {
                if (towns[i].name == 'Franklin' || towns[i].name == 'Greenville' || towns[i].name == 'Springfield') { 
                var myArticle = docment.getElementById(towns[i].name);
                var myH2 = document.createElement('h2');
                var myPara1 = document.createElement('p');
                var myPara2 = document.createElement('p');
                var myPara3 = document.createElement('p');
                    
                myH2.textContent = towns[i].name;
                myPara1.textContent ='Motto: ' + towns[i].motto;
                myPara2.textContent = 'Year Founded: ' + towns[i].yearFounded;
                myPara3.textContent = 'Average Rainfall: ' + towns[i].averageRainfall;
                
                    
                myArticle.appendChild(myH2);
                myArticle.appendChild(myPara1);
                myArticle.appendChild(myPara2);
                myArticle.appendChild(myPara3);  
                    }
                }
            }
     </script>
    </main> 
        <footer>
            <aside>
                <h3>Spot On Weather</h3>
                <p>123 Main St.
                    <br>Franklin, MU 83454
                    <br>(012)345.6789
                    <br>contact@theurl.com
                </p>
            </aside>
            <p class="footer-bar">&copy; 2018 All Rights Reserved    &xodot; Spot On Weather &xodot;  <span id="currentdate"></span></p>
        </footer>
           
        <script src="scriptsfinal/hamburger.js"></script>
        <script src="scriptsfinal/currentdate.js"></script>
        <script src="scriptsfinal/wu-weather.js"></script>
        
       
       </div>     
    </body>
    <script>
    //remember to add an ID of "navigation" to the nav ul
        var urlString = documnet.location.href;
        var urlArray = urlString.split('/');
        var pageHREF=urlArray[urlArray.length-1];
        
        if (pageHREF !=="") {
            var menu = document.querySelectorAll('ul#navigation li a');
            var i;
            //loop through all the menu items in the navigation
            for (i=0; i<menu.length; i++) {
                var curentURL=(menu[i].getAttribute("href"));
                menu[i].parentNode.className=""; //trun off hilighting by default
                if (currentURL===pageHREF) {
                    menu[i].parentNode.className="active";  //turn on if a match
                    
                } //end if
            } //end of the search for a match
        } //end of if !==
    
    </script>   
</html>
